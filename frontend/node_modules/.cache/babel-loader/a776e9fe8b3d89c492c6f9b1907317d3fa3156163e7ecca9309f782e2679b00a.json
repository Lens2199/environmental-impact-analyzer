{"ast":null,"code":"var _jsxFileName = \"/Users/deocherisme/environmental-impact-analyzer/frontend/src/pages/AnalysisPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { Box, Container, Typography, TextField, Button, Grid, Paper, CircularProgress, Alert, Card, CardContent, Divider, Chip, Tabs, Tab, LinearProgress } from '@mui/material';\nimport AnalyticsIcon from '@mui/icons-material/Analytics';\nimport EcoIcon from '../components/icons/EcoIcon';\nimport WaterIcon from '@mui/icons-material/Water';\nimport SpaIcon from '@mui/icons-material/Spa';\nimport RecyclingIcon from '../components/icons/RecyclingIcon'; // Adjust path\nimport TipsAndUpdatesIcon from '@mui/icons-material/TipsAndUpdates';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\n\n// Replace the direct axios import with the API service\nimport { analysisAPI, productAPI } from '../services/api'; // Make sure path is correct\n\n// Component for displaying individual score\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ScoreCircle = ({\n  score,\n  label,\n  icon\n}) => {\n  let scoreClass = '';\n  if (score >= 9) scoreClass = 'score-excellent';else if (score >= 7) scoreClass = 'score-good';else if (score >= 5) scoreClass = 'score-average';else if (score >= 3) scoreClass = 'score-poor';else scoreClass = 'score-bad';\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      textAlign: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      className: `analysis-score-circle ${scoreClass}`,\n      sx: {\n        mb: 1\n      },\n      children: score\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        mb: 1\n      },\n      children: [icon, /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        component: \"div\",\n        sx: {\n          ml: 0.5\n        },\n        children: label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {\n      variant: \"determinate\",\n      value: score * 10,\n      sx: {\n        height: 8,\n        borderRadius: 5,\n        bgcolor: 'rgba(0,0,0,0.1)',\n        '& .MuiLinearProgress-bar': {\n          bgcolor: scoreClass === 'score-excellent' ? '#43a047' : scoreClass === 'score-good' ? '#7cb342' : scoreClass === 'score-average' ? '#fdd835' : scoreClass === 'score-poor' ? '#fb8c00' : '#e53935'\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_c = ScoreCircle;\nfunction AnalysisPage() {\n  _s();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [productText, setProductText] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [fetchingProduct, setFetchingProduct] = useState(false);\n  const [error, setError] = useState('');\n  const [analysis, setAnalysis] = useState(null);\n  const [activeTab, setActiveTab] = useState(0);\n  const [productDetails, setProductDetails] = useState(null);\n\n  // Get product data from navigation state\n  const {\n    state\n  } = location;\n  const productFromState = state === null || state === void 0 ? void 0 : state.productData;\n  const autoAnalyzeFromState = (state === null || state === void 0 ? void 0 : state.autoAnalyze) || false;\n\n  // For backward compatibility, still check URL params\n  const params = new URLSearchParams(location.search);\n  const productId = params.get('productId');\n  const autoStart = params.get('autoStart') === 'true' || autoAnalyzeFromState;\n\n  // Function to fetch product details\n\n  // Format product details into text for analysis\n  const formatProductDetails = product => {\n    if (!product) return '';\n    let formattedText = `${product.name}\\n\\n`;\n    if (product.category) {\n      formattedText += `Category: ${product.category}\\n\\n`;\n    }\n    if (product.description) {\n      formattedText += `Description: ${product.description}\\n\\n`;\n    }\n    if (Array.isArray(product.materials) && product.materials.length > 0) {\n      formattedText += `Materials: ${product.materials.join(', ')}\\n\\n`;\n    }\n    if (product.manufacturingLocation) {\n      formattedText += `Manufacturing Location: ${product.manufacturingLocation}\\n\\n`;\n    }\n    return formattedText.trim();\n  };\n\n  // Effect to handle auto-analysis for product coming from state or URL\n  useEffect(() => {\n    const handleAutoAnalysis = async () => {\n      console.log('Checking for product data:', {\n        productFromState,\n        productId,\n        autoStart\n      });\n\n      // If we have product data from navigation state\n      if (productFromState) {\n        console.log('Using product passed via navigation state:', productFromState);\n        setProductDetails(productFromState);\n        const formattedText = formatProductDetails(productFromState);\n        console.log('Formatted product text:', formattedText);\n        setProductText(formattedText);\n\n        // Auto-trigger analysis if enabled\n        if (autoAnalyzeFromState || autoStart) {\n          console.log('Auto-starting analysis for product from state');\n          setTimeout(() => {\n            analyzeProduct(formattedText);\n          }, 300);\n        }\n        return;\n      }\n\n      // Otherwise try to fetch by ID\n      if (productId) {\n        console.log('Auto-analysis triggered for product ID:', productId);\n        console.log('Auto-start parameter:', autoStart);\n\n        // Fetch product details\n        try {\n          setFetchingProduct(true);\n          setError('');\n\n          // Mock product details if API call fails in development\n          let product;\n          try {\n            // Try to get product from API\n            const response = await productAPI.getProductById(productId);\n            product = response.data;\n            console.log('Product details fetched:', product);\n          } catch (apiError) {\n            console.error('API error:', apiError);\n\n            // If in development and API fails, use mock data based on the product ID\n            if (process.env.NODE_ENV === 'development') {\n              // Find the product from our mock list based on ID\n              const mockProducts = [{\n                id: '1',\n                name: 'Eco-Friendly Smartphone',\n                category: 'Electronics',\n                description: 'Made with recycled materials and designed for easy repair and recycling at end of life.',\n                materials: ['Recycled Aluminum', 'Recycled Plastic', 'Glass'],\n                manufacturingLocation: 'Germany'\n              }, {\n                id: '2',\n                name: 'Organic Cotton T-Shirt',\n                category: 'Clothing',\n                description: 'Made with 100% organic cotton grown without harmful pesticides or synthetic fertilizers.',\n                materials: ['Organic Cotton'],\n                manufacturingLocation: 'Portugal'\n              }, {\n                id: '3',\n                name: 'Bamboo Kitchen Utensils',\n                category: 'Home Goods',\n                description: 'Sustainable bamboo kitchen utensils that are biodegradable and renewable.',\n                materials: ['Bamboo'],\n                manufacturingLocation: 'Vietnam'\n              }, {\n                id: '4',\n                name: 'Solar-Powered Power Bank',\n                category: 'Electronics',\n                description: 'Charge your devices using clean solar energy. Includes recycled components.',\n                materials: ['Recycled Plastic', 'Silicon', 'Lithium Battery'],\n                manufacturingLocation: 'China'\n              }, {\n                id: '5',\n                name: 'Plant-Based Laundry Detergent',\n                category: 'Home Goods',\n                description: 'Biodegradable laundry detergent made from plant-derived ingredients.',\n                materials: ['Plant Extracts', 'Natural Enzymes'],\n                manufacturingLocation: 'USA'\n              }, {\n                id: '6',\n                name: 'Recycled Paper Notebook',\n                category: 'Home Goods',\n                description: '100% recycled paper notebook with vegetable-based ink printing.',\n                materials: ['Recycled Paper', 'Vegetable Ink'],\n                manufacturingLocation: 'Canada'\n              }];\n              product = mockProducts.find(p => p.id === productId);\n              console.log('Using mock product data:', product);\n            }\n          }\n          if (product) {\n            setProductDetails(product);\n            const formattedText = formatProductDetails(product);\n            console.log('Formatted product text:', formattedText);\n            setProductText(formattedText);\n\n            // Auto-trigger analysis if autoStart is true\n            if (autoStart && formattedText) {\n              console.log('Auto-starting analysis for product');\n              // Short delay to ensure state has updated\n              setTimeout(() => {\n                analyzeProduct(formattedText);\n              }, 300);\n            }\n          } else {\n            setError('Product not found. Please try entering product details manually.');\n          }\n        } finally {\n          setFetchingProduct(false);\n        }\n      }\n    };\n    handleAutoAnalysis();\n  }, [productFromState, autoAnalyzeFromState, productId, autoStart]); // Run when parameters change\n\n  const handleTabChange = (event, newValue) => {\n    setActiveTab(newValue);\n  };\n\n  // Extracted analysis logic to be reusable\n  const analyzeProduct = async text => {\n    if (!text.trim()) {\n      setError('Please enter product details to analyze.');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      console.log('Starting analysis with text:', text);\n\n      // Try to use the API service\n      let analysisData;\n      try {\n        const response = await analysisAPI.analyzeProductText(text);\n        analysisData = response.data;\n        console.log('Analysis API response:', analysisData);\n      } catch (apiError) {\n        console.error('API error during analysis:', apiError);\n\n        // If we're in development, generate mock data\n        if (process.env.NODE_ENV === 'development') {\n          console.log('Using mock analysis data in development');\n\n          // Generate scores based on text content\n          const materialScore = text.toLowerCase().includes('recycled') ? 8.5 : 6.0;\n          const carbonScore = text.toLowerCase().includes('china') ? 5.8 : 7.4;\n          const waterScore = text.toLowerCase().includes('organic') ? 8.7 : 6.5;\n\n          // Calculate overall score as average of other scores\n          const overallScore = Number(((materialScore + carbonScore + waterScore) / 3).toFixed(1));\n\n          // Generate mock response\n          analysisData = {\n            scores: {\n              overall: overallScore,\n              carbon: carbonScore,\n              water: waterScore,\n              resources: materialScore\n            },\n            explanation: `This ${text.toLowerCase().includes('electronic') ? 'electronic' : 'consumer'} product has a moderate environmental impact. ${text.toLowerCase().includes('recycled') ? 'The use of recycled materials is commendable and reduces resource consumption.' : 'Consider using more recycled or sustainable materials in the product.'} ${text.toLowerCase().includes('china') ? 'Manufacturing in China increases the carbon footprint due to transportation distance and potentially higher emissions from energy sources.' : 'The manufacturing location provides reasonable proximity to markets, reducing transportation emissions.'} ${text.toLowerCase().includes('packaging') ? 'The packaging choices show attention to environmental concerns.' : 'No information on packaging was provided, which is an area for potential improvement.'}`,\n            suggestions: `Consider sourcing materials from locations closer to manufacturing. Implement more renewable energy in the production process. Explore biodegradable packaging alternatives. ${text.toLowerCase().includes('recycled') ? 'Increase the percentage of recycled materials used.' : 'Incorporate recycled materials into the product design.'} ${text.toLowerCase().includes('plastic') ? 'Reduce plastic components or switch to bioplastics where possible.' : 'Ensure all materials are easily separable for recycling at end of life.'}`\n          };\n        } else {\n          throw apiError; // Re-throw for non-development environments\n        }\n      }\n      if (analysisData) {\n        setAnalysis(analysisData);\n      } else {\n        throw new Error('No analysis data received');\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Error analyzing product:', err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'An error occurred while analyzing the product. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Form submission handler\n  const handleSubmit = async e => {\n    if (e) e.preventDefault();\n    await analyzeProduct(productText);\n  };\n\n  // Handle back button if product was passed from search\n  const handleBack = () => {\n    if (productId) {\n      // Navigate back to the main page where ProductSearchPage is likely located\n      navigate('/');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    className: \"page-transition\",\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        pt: 6,\n        pb: 6,\n        backgroundColor: 'primary.main',\n        color: 'white'\n      },\n      className: \"eco-gradient-bg\",\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        maxWidth: \"md\",\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          component: \"h1\",\n          variant: \"h3\",\n          gutterBottom: true,\n          sx: {\n            fontWeight: 'bold',\n            textAlign: 'center'\n          },\n          children: \"Analyze Environmental Impact\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          paragraph: true,\n          sx: {\n            mb: 4,\n            textAlign: 'center'\n          },\n          children: \"Enter product details to receive an AI-powered environmental impact assessment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"md\",\n      sx: {\n        py: 6\n      },\n      children: [productId && /*#__PURE__*/_jsxDEV(Button, {\n        startIcon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 24\n        }, this),\n        onClick: handleBack,\n        sx: {\n          mb: 2\n        },\n        children: \"Back to Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 3,\n        sx: {\n          p: 4,\n          mb: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          gutterBottom: true,\n          children: \"Product Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          sx: {\n            mb: 3\n          },\n          children: \"Please provide as much detail as possible about the product for the most accurate assessment. Include information about materials, manufacturing process, packaging, and origin if available.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), fetchingProduct ? /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'center',\n            py: 3\n          },\n          children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Product Details\",\n            multiline: true,\n            rows: 6,\n            fullWidth: true,\n            value: productText,\n            onChange: e => setProductText(e.target.value),\n            placeholder: \"Example: This smartphone is made with an aluminum body, glass screen, and lithium-ion battery. It's manufactured in China and packaged in recycled cardboard with plastic film.\",\n            sx: {\n              mb: 3\n            },\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 15\n          }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n            severity: \"error\",\n            sx: {\n              mb: 3\n            },\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"contained\",\n            size: \"large\",\n            startIcon: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n              size: 20,\n              color: \"inherit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 38\n            }, this) : /*#__PURE__*/_jsxDEV(AnalyticsIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 87\n            }, this),\n            disabled: loading || !productText.trim(),\n            fullWidth: true,\n            sx: {\n              py: 1.5\n            },\n            children: loading ? 'Analyzing...' : 'Analyze Product'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          textAlign: 'center',\n          py: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 60\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          sx: {\n            mt: 2\n          },\n          children: \"Analyzing product details...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          sx: {\n            mt: 1\n          },\n          children: \"This may take a few moments as our AI evaluates the environmental impact.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 11\n      }, this), analysis && !loading && /*#__PURE__*/_jsxDEV(Card, {\n        elevation: 3,\n        sx: {\n          mb: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            px: 3,\n            py: 2,\n            backgroundColor: 'primary.main',\n            color: 'white'\n          },\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            children: \"Environmental Impact Analysis Results\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Tabs, {\n            value: activeTab,\n            onChange: handleTabChange,\n            centered: true,\n            sx: {\n              mb: 3\n            },\n            children: [/*#__PURE__*/_jsxDEV(Tab, {\n              icon: /*#__PURE__*/_jsxDEV(AnalyticsIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 28\n              }, this),\n              label: \"SCORES\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              icon: /*#__PURE__*/_jsxDEV(TipsAndUpdatesIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 28\n              }, this),\n              label: \"INSIGHTS\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 15\n          }, this), activeTab === 0 && /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                textAlign: 'center',\n                mb: 4\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h4\",\n                gutterBottom: true,\n                children: \"Overall Environmental Score\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                className: `analysis-score-circle ${analysis.scores.overall >= 9 ? 'score-excellent' : analysis.scores.overall >= 7 ? 'score-good' : analysis.scores.overall >= 5 ? 'score-average' : analysis.scores.overall >= 3 ? 'score-poor' : 'score-bad'}`,\n                sx: {\n                  width: 120,\n                  height: 120,\n                  fontSize: '2.5rem',\n                  mb: 2,\n                  mx: 'auto'\n                },\n                children: analysis.scores.overall\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                sx: {\n                  maxWidth: 600,\n                  mx: 'auto'\n                },\n                children: [analysis.explanation.split('.')[0], \".\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {\n              sx: {\n                my: 4\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                my: 3\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h5\",\n                gutterBottom: true,\n                children: \"Environmental Impact Breakdown\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                spacing: 4,\n                sx: {\n                  mt: 2\n                },\n                children: [/*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  md: 4,\n                  children: /*#__PURE__*/_jsxDEV(ScoreCircle, {\n                    score: analysis.scores.carbon,\n                    label: \"Carbon Footprint\",\n                    icon: /*#__PURE__*/_jsxDEV(RecyclingIcon, {\n                      sx: {\n                        color: 'primary.main'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 497,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 494,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 493,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  md: 4,\n                  children: /*#__PURE__*/_jsxDEV(ScoreCircle, {\n                    score: analysis.scores.water,\n                    label: \"Water Usage\",\n                    icon: /*#__PURE__*/_jsxDEV(WaterIcon, {\n                      sx: {\n                        color: 'primary.main'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 504,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 501,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  md: 4,\n                  children: /*#__PURE__*/_jsxDEV(ScoreCircle, {\n                    score: analysis.scores.resources,\n                    label: \"Resource Consumption\",\n                    icon: /*#__PURE__*/_jsxDEV(SpaIcon, {\n                      sx: {\n                        color: 'primary.main'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 511,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 508,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 507,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 17\n          }, this), activeTab === 1 && /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 4\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h5\",\n                gutterBottom: true,\n                sx: {\n                  display: 'flex',\n                  alignItems: 'center'\n                },\n                children: [/*#__PURE__*/_jsxDEV(EcoIcon, {\n                  sx: {\n                    mr: 1,\n                    color: 'primary.main'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 523,\n                  columnNumber: 23\n                }, this), \"Detailed Explanation\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 522,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                sx: {\n                  mt: 2,\n                  lineHeight: 1.7\n                },\n                children: analysis.explanation\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {\n              sx: {\n                my: 4\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h5\",\n                gutterBottom: true,\n                sx: {\n                  display: 'flex',\n                  alignItems: 'center'\n                },\n                children: [/*#__PURE__*/_jsxDEV(TipsAndUpdatesIcon, {\n                  sx: {\n                    mr: 1,\n                    color: 'primary.main'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 535,\n                  columnNumber: 23\n                }, this), \"Improvement Suggestions\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 534,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  mt: 2\n                },\n                children: analysis.suggestions.split('.').filter(s => s.trim()).map((suggestion, index) => /*#__PURE__*/_jsxDEV(Alert, {\n                  severity: \"info\",\n                  icon: /*#__PURE__*/_jsxDEV(TipsAndUpdatesIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 543,\n                    columnNumber: 33\n                  }, this),\n                  sx: {\n                    mb: 2\n                  },\n                  children: suggestion.trim() + '.'\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 540,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 538,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 11\n      }, this), !productDetails && /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 1,\n        sx: {\n          p: 3,\n          bgcolor: 'background.paper',\n          borderLeft: '4px solid',\n          borderColor: 'primary.main'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          children: \"Tips for Accurate Analysis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                alignItems: 'flex-start',\n                mb: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(Chip, {\n                label: \"1\",\n                color: \"primary\",\n                size: \"small\",\n                sx: {\n                  mr: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 565,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: \"Include materials used in the product (metal, plastic, fabric types)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 566,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 564,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                alignItems: 'flex-start',\n                mb: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(Chip, {\n                label: \"2\",\n                color: \"primary\",\n                size: \"small\",\n                sx: {\n                  mr: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 571,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: \"Mention manufacturing location and processes if known\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 572,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 570,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 563,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                alignItems: 'flex-start',\n                mb: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(Chip, {\n                label: \"3\",\n                color: \"primary\",\n                size: \"small\",\n                sx: {\n                  mr: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 579,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: \"Describe packaging materials and product lifespan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 580,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 578,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                alignItems: 'flex-start'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Chip, {\n                label: \"4\",\n                color: \"primary\",\n                size: \"small\",\n                sx: {\n                  mr: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 585,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: \"Note any eco-certifications or sustainability claims\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 586,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 584,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 577,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 344,\n    columnNumber: 5\n  }, this);\n}\n_s(AnalysisPage, \"16GO0n8RvQM47WE2kdOKtaImij8=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c2 = AnalysisPage;\nexport default AnalysisPage;\nvar _c, _c2;\n$RefreshReg$(_c, \"ScoreCircle\");\n$RefreshReg$(_c2, \"AnalysisPage\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","Box","Container","Typography","TextField","Button","Grid","Paper","CircularProgress","Alert","Card","CardContent","Divider","Chip","Tabs","Tab","LinearProgress","AnalyticsIcon","EcoIcon","WaterIcon","SpaIcon","RecyclingIcon","TipsAndUpdatesIcon","ArrowBackIcon","analysisAPI","productAPI","jsxDEV","_jsxDEV","ScoreCircle","score","label","icon","scoreClass","sx","textAlign","children","className","mb","fileName","_jsxFileName","lineNumber","columnNumber","display","alignItems","justifyContent","variant","component","ml","value","height","borderRadius","bgcolor","_c","AnalysisPage","_s","location","navigate","productText","setProductText","loading","setLoading","fetchingProduct","setFetchingProduct","error","setError","analysis","setAnalysis","activeTab","setActiveTab","productDetails","setProductDetails","state","productFromState","productData","autoAnalyzeFromState","autoAnalyze","params","URLSearchParams","search","productId","get","autoStart","formatProductDetails","product","formattedText","name","category","description","Array","isArray","materials","length","join","manufacturingLocation","trim","handleAutoAnalysis","console","log","setTimeout","analyzeProduct","response","getProductById","data","apiError","process","env","NODE_ENV","mockProducts","id","find","p","handleTabChange","event","newValue","text","analysisData","analyzeProductText","materialScore","toLowerCase","includes","carbonScore","waterScore","overallScore","Number","toFixed","scores","overall","carbon","water","resources","explanation","suggestions","Error","err","_err$response","_err$response$data","message","handleSubmit","e","preventDefault","handleBack","pt","pb","backgroundColor","color","maxWidth","gutterBottom","fontWeight","paragraph","py","startIcon","onClick","elevation","onSubmit","multiline","rows","fullWidth","onChange","target","placeholder","required","severity","type","size","disabled","mt","px","centered","width","fontSize","mx","split","my","container","spacing","item","xs","md","mr","lineHeight","filter","s","map","suggestion","index","borderLeft","borderColor","_c2","$RefreshReg$"],"sources":["/Users/deocherisme/environmental-impact-analyzer/frontend/src/pages/AnalysisPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport {\n  Box,\n  Container,\n  Typography,\n  TextField,\n  Button,\n  Grid,\n  Paper,\n  CircularProgress,\n  Alert,\n  Card,\n  CardContent,\n  Divider,\n  Chip,\n  Tabs,\n  Tab,\n  LinearProgress\n} from '@mui/material';\nimport AnalyticsIcon from '@mui/icons-material/Analytics';\nimport EcoIcon from '../components/icons/EcoIcon';\nimport WaterIcon from '@mui/icons-material/Water';\nimport SpaIcon from '@mui/icons-material/Spa';\nimport RecyclingIcon from '../components/icons/RecyclingIcon';  // Adjust path\nimport TipsAndUpdatesIcon from '@mui/icons-material/TipsAndUpdates';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\n\n// Replace the direct axios import with the API service\nimport { analysisAPI, productAPI } from '../services/api'; // Make sure path is correct\n\n// Component for displaying individual score\nconst ScoreCircle = ({ score, label, icon }) => {\n  let scoreClass = '';\n  \n  if (score >= 9) scoreClass = 'score-excellent';\n  else if (score >= 7) scoreClass = 'score-good';\n  else if (score >= 5) scoreClass = 'score-average';\n  else if (score >= 3) scoreClass = 'score-poor';\n  else scoreClass = 'score-bad';\n  \n  return (\n    <Box sx={{ textAlign: 'center' }}>\n      <Box \n        className={`analysis-score-circle ${scoreClass}`}\n        sx={{ mb: 1 }}\n      >\n        {score}\n      </Box>\n      <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center', mb: 1 }}>\n        {icon}\n        <Typography variant=\"h6\" component=\"div\" sx={{ ml: 0.5 }}>\n          {label}\n        </Typography>\n      </Box>\n      <LinearProgress \n        variant=\"determinate\" \n        value={score * 10} \n        sx={{ \n          height: 8, \n          borderRadius: 5,\n          bgcolor: 'rgba(0,0,0,0.1)',\n          '& .MuiLinearProgress-bar': {\n            bgcolor: scoreClass === 'score-excellent' ? '#43a047' :\n                    scoreClass === 'score-good' ? '#7cb342' :\n                    scoreClass === 'score-average' ? '#fdd835' :\n                    scoreClass === 'score-poor' ? '#fb8c00' : '#e53935'\n          }\n        }} \n      />\n    </Box>\n  );\n};\n\nfunction AnalysisPage() {\n  const location = useLocation();\n  const navigate = useNavigate();\n  \n  const [productText, setProductText] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [fetchingProduct, setFetchingProduct] = useState(false);\n  const [error, setError] = useState('');\n  const [analysis, setAnalysis] = useState(null);\n  const [activeTab, setActiveTab] = useState(0);\n  const [productDetails, setProductDetails] = useState(null);\n  \n  // Get product data from navigation state\n  const { state } = location;\n  const productFromState = state?.productData;\n  const autoAnalyzeFromState = state?.autoAnalyze || false;\n  \n  // For backward compatibility, still check URL params\n  const params = new URLSearchParams(location.search);\n  const productId = params.get('productId');\n  const autoStart = params.get('autoStart') === 'true' || autoAnalyzeFromState;\n  \n  // Function to fetch product details\n  \n  // Format product details into text for analysis\n  const formatProductDetails = (product) => {\n    if (!product) return '';\n    \n    let formattedText = `${product.name}\\n\\n`;\n    \n    if (product.category) {\n      formattedText += `Category: ${product.category}\\n\\n`;\n    }\n    \n    if (product.description) {\n      formattedText += `Description: ${product.description}\\n\\n`;\n    }\n    \n    if (Array.isArray(product.materials) && product.materials.length > 0) {\n      formattedText += `Materials: ${product.materials.join(', ')}\\n\\n`;\n    }\n    \n    if (product.manufacturingLocation) {\n      formattedText += `Manufacturing Location: ${product.manufacturingLocation}\\n\\n`;\n    }\n    \n    return formattedText.trim();\n  };\n  \n  // Effect to handle auto-analysis for product coming from state or URL\n  useEffect(() => {\n    const handleAutoAnalysis = async () => {\n      console.log('Checking for product data:', { productFromState, productId, autoStart });\n      \n      // If we have product data from navigation state\n      if (productFromState) {\n        console.log('Using product passed via navigation state:', productFromState);\n        setProductDetails(productFromState);\n        const formattedText = formatProductDetails(productFromState);\n        console.log('Formatted product text:', formattedText);\n        setProductText(formattedText);\n        \n        // Auto-trigger analysis if enabled\n        if (autoAnalyzeFromState || autoStart) {\n          console.log('Auto-starting analysis for product from state');\n          setTimeout(() => {\n            analyzeProduct(formattedText);\n          }, 300);\n        }\n        return;\n      }\n      \n      // Otherwise try to fetch by ID\n      if (productId) {\n        console.log('Auto-analysis triggered for product ID:', productId);\n        console.log('Auto-start parameter:', autoStart);\n        \n        // Fetch product details\n        try {\n          setFetchingProduct(true);\n          setError('');\n          \n          // Mock product details if API call fails in development\n          let product;\n          try {\n            // Try to get product from API\n            const response = await productAPI.getProductById(productId);\n            product = response.data;\n            console.log('Product details fetched:', product);\n          } catch (apiError) {\n            console.error('API error:', apiError);\n            \n            // If in development and API fails, use mock data based on the product ID\n            if (process.env.NODE_ENV === 'development') {\n              // Find the product from our mock list based on ID\n              const mockProducts = [\n                {\n                  id: '1',\n                  name: 'Eco-Friendly Smartphone',\n                  category: 'Electronics',\n                  description: 'Made with recycled materials and designed for easy repair and recycling at end of life.',\n                  materials: ['Recycled Aluminum', 'Recycled Plastic', 'Glass'],\n                  manufacturingLocation: 'Germany'\n                },\n                {\n                  id: '2',\n                  name: 'Organic Cotton T-Shirt',\n                  category: 'Clothing',\n                  description: 'Made with 100% organic cotton grown without harmful pesticides or synthetic fertilizers.',\n                  materials: ['Organic Cotton'],\n                  manufacturingLocation: 'Portugal'\n                },\n                {\n                  id: '3',\n                  name: 'Bamboo Kitchen Utensils',\n                  category: 'Home Goods',\n                  description: 'Sustainable bamboo kitchen utensils that are biodegradable and renewable.',\n                  materials: ['Bamboo'],\n                  manufacturingLocation: 'Vietnam'\n                },\n                {\n                  id: '4',\n                  name: 'Solar-Powered Power Bank',\n                  category: 'Electronics',\n                  description: 'Charge your devices using clean solar energy. Includes recycled components.',\n                  materials: ['Recycled Plastic', 'Silicon', 'Lithium Battery'],\n                  manufacturingLocation: 'China'\n                },\n                {\n                  id: '5',\n                  name: 'Plant-Based Laundry Detergent',\n                  category: 'Home Goods',\n                  description: 'Biodegradable laundry detergent made from plant-derived ingredients.',\n                  materials: ['Plant Extracts', 'Natural Enzymes'],\n                  manufacturingLocation: 'USA'\n                },\n                {\n                  id: '6',\n                  name: 'Recycled Paper Notebook',\n                  category: 'Home Goods',\n                  description: '100% recycled paper notebook with vegetable-based ink printing.',\n                  materials: ['Recycled Paper', 'Vegetable Ink'],\n                  manufacturingLocation: 'Canada'\n                }\n              ];\n              \n              product = mockProducts.find(p => p.id === productId);\n              console.log('Using mock product data:', product);\n            }\n          }\n          \n          if (product) {\n            setProductDetails(product);\n            const formattedText = formatProductDetails(product);\n            console.log('Formatted product text:', formattedText);\n            setProductText(formattedText);\n            \n            // Auto-trigger analysis if autoStart is true\n            if (autoStart && formattedText) {\n              console.log('Auto-starting analysis for product');\n              // Short delay to ensure state has updated\n              setTimeout(() => {\n                analyzeProduct(formattedText);\n              }, 300);\n            }\n          } else {\n            setError('Product not found. Please try entering product details manually.');\n          }\n        } finally {\n          setFetchingProduct(false);\n        }\n      }\n    };\n    \n    handleAutoAnalysis();\n  }, [productFromState, autoAnalyzeFromState, productId, autoStart]); // Run when parameters change\n  \n  const handleTabChange = (event, newValue) => {\n    setActiveTab(newValue);\n  };\n  \n  // Extracted analysis logic to be reusable\n  const analyzeProduct = async (text) => {\n    if (!text.trim()) {\n      setError('Please enter product details to analyze.');\n      return;\n    }\n    \n    setLoading(true);\n    setError('');\n    \n    try {\n      console.log('Starting analysis with text:', text);\n      \n      // Try to use the API service\n      let analysisData;\n      try {\n        const response = await analysisAPI.analyzeProductText(text);\n        analysisData = response.data;\n        console.log('Analysis API response:', analysisData);\n      } catch (apiError) {\n        console.error('API error during analysis:', apiError);\n        \n        // If we're in development, generate mock data\n        if (process.env.NODE_ENV === 'development') {\n          console.log('Using mock analysis data in development');\n          \n          // Generate scores based on text content\n          const materialScore = text.toLowerCase().includes('recycled') ? 8.5 : 6.0;\n          const carbonScore = text.toLowerCase().includes('china') ? 5.8 : 7.4;\n          const waterScore = text.toLowerCase().includes('organic') ? 8.7 : 6.5;\n          \n          // Calculate overall score as average of other scores\n          const overallScore = Number(((materialScore + carbonScore + waterScore) / 3).toFixed(1));\n          \n          // Generate mock response\n          analysisData = {\n            scores: {\n              overall: overallScore,\n              carbon: carbonScore,\n              water: waterScore,\n              resources: materialScore\n            },\n            explanation: `This ${text.toLowerCase().includes('electronic') ? 'electronic' : 'consumer'} product has a moderate environmental impact. ${\n              text.toLowerCase().includes('recycled') ? 'The use of recycled materials is commendable and reduces resource consumption.' : 'Consider using more recycled or sustainable materials in the product.'\n            } ${\n              text.toLowerCase().includes('china') ? 'Manufacturing in China increases the carbon footprint due to transportation distance and potentially higher emissions from energy sources.' : 'The manufacturing location provides reasonable proximity to markets, reducing transportation emissions.'\n            } ${\n              text.toLowerCase().includes('packaging') ? 'The packaging choices show attention to environmental concerns.' : 'No information on packaging was provided, which is an area for potential improvement.'\n            }`,\n            suggestions: `Consider sourcing materials from locations closer to manufacturing. Implement more renewable energy in the production process. Explore biodegradable packaging alternatives. ${\n              text.toLowerCase().includes('recycled') ? 'Increase the percentage of recycled materials used.' : 'Incorporate recycled materials into the product design.'\n            } ${\n              text.toLowerCase().includes('plastic') ? 'Reduce plastic components or switch to bioplastics where possible.' : 'Ensure all materials are easily separable for recycling at end of life.'\n            }`\n          };\n        } else {\n          throw apiError; // Re-throw for non-development environments\n        }\n      }\n      \n      if (analysisData) {\n        setAnalysis(analysisData);\n      } else {\n        throw new Error('No analysis data received');\n      }\n    } catch (err) {\n      console.error('Error analyzing product:', err);\n      setError(err.response?.data?.message || 'An error occurred while analyzing the product. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  // Form submission handler\n  const handleSubmit = async (e) => {\n    if (e) e.preventDefault();\n    await analyzeProduct(productText);\n  };\n  \n  // Handle back button if product was passed from search\n  const handleBack = () => {\n    if (productId) {\n      // Navigate back to the main page where ProductSearchPage is likely located\n      navigate('/');\n    }\n  };\n  \n  return (\n    <Box className=\"page-transition\">\n      <Box\n        sx={{\n          pt: 6,\n          pb: 6,\n          backgroundColor: 'primary.main',\n          color: 'white',\n        }}\n        className=\"eco-gradient-bg\"\n      >\n        <Container maxWidth=\"md\">\n          <Typography\n            component=\"h1\"\n            variant=\"h3\"\n            gutterBottom\n            sx={{ fontWeight: 'bold', textAlign: 'center' }}\n          >\n            Analyze Environmental Impact\n          </Typography>\n          <Typography variant=\"h6\" paragraph sx={{ mb: 4, textAlign: 'center' }}>\n            Enter product details to receive an AI-powered environmental impact assessment\n          </Typography>\n        </Container>\n      </Box>\n      \n      <Container maxWidth=\"md\" sx={{ py: 6 }}>\n        {/* Back button if coming from product search */}\n        {productId && (\n          <Button \n            startIcon={<ArrowBackIcon />} \n            onClick={handleBack}\n            sx={{ mb: 2 }}\n          >\n            Back to Products\n          </Button>\n        )}\n        \n        {/* Product information form */}\n        <Paper elevation={3} sx={{ p: 4, mb: 4 }}>\n          <Typography variant=\"h5\" gutterBottom>\n            Product Information\n          </Typography>\n          <Typography variant=\"body1\" sx={{ mb: 3 }}>\n            Please provide as much detail as possible about the product for the most accurate assessment.\n            Include information about materials, manufacturing process, packaging, and origin if available.\n          </Typography>\n          \n          {/* Loading indicator when fetching product */}\n          {fetchingProduct ? (\n            <Box sx={{ display: 'flex', justifyContent: 'center', py: 3 }}>\n              <CircularProgress />\n            </Box>\n          ) : (\n            <form onSubmit={handleSubmit}>\n              <TextField\n                label=\"Product Details\"\n                multiline\n                rows={6}\n                fullWidth\n                value={productText}\n                onChange={(e) => setProductText(e.target.value)}\n                placeholder=\"Example: This smartphone is made with an aluminum body, glass screen, and lithium-ion battery. It's manufactured in China and packaged in recycled cardboard with plastic film.\"\n                sx={{ mb: 3 }}\n                required\n              />\n              \n              {error && (\n                <Alert severity=\"error\" sx={{ mb: 3 }}>\n                  {error}\n                </Alert>\n              )}\n              \n              <Button\n                type=\"submit\"\n                variant=\"contained\"\n                size=\"large\"\n                startIcon={loading ? <CircularProgress size={20} color=\"inherit\" /> : <AnalyticsIcon />}\n                disabled={loading || !productText.trim()}\n                fullWidth\n                sx={{ py: 1.5 }}\n              >\n                {loading ? 'Analyzing...' : 'Analyze Product'}\n              </Button>\n            </form>\n          )}\n        </Paper>\n        \n        {loading && (\n          <Box sx={{ textAlign: 'center', py: 4 }}>\n            <CircularProgress size={60} />\n            <Typography variant=\"h6\" sx={{ mt: 2 }}>\n              Analyzing product details...\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\n              This may take a few moments as our AI evaluates the environmental impact.\n            </Typography>\n          </Box>\n        )}\n        \n        {analysis && !loading && (\n          <Card elevation={3} sx={{ mb: 4 }}>\n            <Box sx={{ px: 3, py: 2, backgroundColor: 'primary.main', color: 'white' }}>\n              <Typography variant=\"h5\">\n                Environmental Impact Analysis Results\n              </Typography>\n            </Box>\n            \n            <CardContent>\n              <Tabs \n                value={activeTab} \n                onChange={handleTabChange} \n                centered\n                sx={{ mb: 3 }}\n              >\n                <Tab icon={<AnalyticsIcon />} label=\"SCORES\" />\n                <Tab icon={<TipsAndUpdatesIcon />} label=\"INSIGHTS\" />\n              </Tabs>\n              \n              {activeTab === 0 && (\n                <Box>\n                  {/* Overall Score */}\n                  <Box sx={{ textAlign: 'center', mb: 4 }}>\n                    <Typography variant=\"h4\" gutterBottom>\n                      Overall Environmental Score\n                    </Typography>\n                    <Box \n                      className={`analysis-score-circle ${\n                        analysis.scores.overall >= 9 ? 'score-excellent' :\n                        analysis.scores.overall >= 7 ? 'score-good' :\n                        analysis.scores.overall >= 5 ? 'score-average' :\n                        analysis.scores.overall >= 3 ? 'score-poor' : 'score-bad'\n                      }`}\n                      sx={{ width: 120, height: 120, fontSize: '2.5rem', mb: 2, mx: 'auto' }}\n                    >\n                      {analysis.scores.overall}\n                    </Box>\n                    <Typography variant=\"body1\" sx={{ maxWidth: 600, mx: 'auto' }}>\n                      {analysis.explanation.split('.')[0]}.\n                    </Typography>\n                  </Box>\n                  \n                  <Divider sx={{ my: 4 }} />\n                  \n                  {/* Individual Scores */}\n                  <Box sx={{ my: 3 }}>\n                    <Typography variant=\"h5\" gutterBottom>\n                      Environmental Impact Breakdown\n                    </Typography>\n                    <Grid container spacing={4} sx={{ mt: 2 }}>\n                      <Grid item xs={12} md={4}>\n                        <ScoreCircle \n                          score={analysis.scores.carbon} \n                          label=\"Carbon Footprint\" \n                          icon={<RecyclingIcon sx={{ color: 'primary.main' }} />}\n                        />\n                      </Grid>\n                      <Grid item xs={12} md={4}>\n                        <ScoreCircle \n                          score={analysis.scores.water} \n                          label=\"Water Usage\" \n                          icon={<WaterIcon sx={{ color: 'primary.main' }} />}\n                        />\n                      </Grid>\n                      <Grid item xs={12} md={4}>\n                        <ScoreCircle \n                          score={analysis.scores.resources} \n                          label=\"Resource Consumption\" \n                          icon={<SpaIcon sx={{ color: 'primary.main' }} />}\n                        />\n                      </Grid>\n                    </Grid>\n                  </Box>\n                </Box>\n              )}\n              \n              {activeTab === 1 && (\n                <Box>\n                  <Box sx={{ mb: 4 }}>\n                    <Typography variant=\"h5\" gutterBottom sx={{ display: 'flex', alignItems: 'center' }}>\n                      <EcoIcon sx={{ mr: 1, color: 'primary.main' }} />\n                      Detailed Explanation\n                    </Typography>\n                    <Typography variant=\"body1\" sx={{ mt: 2, lineHeight: 1.7 }}>\n                      {analysis.explanation}\n                    </Typography>\n                  </Box>\n                  \n                  <Divider sx={{ my: 4 }} />\n                  \n                  <Box>\n                    <Typography variant=\"h5\" gutterBottom sx={{ display: 'flex', alignItems: 'center' }}>\n                      <TipsAndUpdatesIcon sx={{ mr: 1, color: 'primary.main' }} />\n                      Improvement Suggestions\n                    </Typography>\n                    <Box sx={{ mt: 2 }}>\n                      {analysis.suggestions.split('.').filter(s => s.trim()).map((suggestion, index) => (\n                        <Alert \n                          key={index} \n                          severity=\"info\" \n                          icon={<TipsAndUpdatesIcon />}\n                          sx={{ mb: 2 }}\n                        >\n                          {suggestion.trim() + '.'}\n                        </Alert>\n                      ))}\n                    </Box>\n                  </Box>\n                </Box>\n              )}\n            </CardContent>\n          </Card>\n        )}\n        \n        {!productDetails && (\n          <Paper elevation={1} sx={{ p: 3, bgcolor: 'background.paper', borderLeft: '4px solid', borderColor: 'primary.main' }}>\n            <Typography variant=\"h6\" gutterBottom>\n              Tips for Accurate Analysis\n            </Typography>\n            <Grid container spacing={2}>\n              <Grid item xs={12} md={6}>\n                <Box sx={{ display: 'flex', alignItems: 'flex-start', mb: 1 }}>\n                  <Chip label=\"1\" color=\"primary\" size=\"small\" sx={{ mr: 1 }} />\n                  <Typography variant=\"body2\">\n                    Include materials used in the product (metal, plastic, fabric types)\n                  </Typography>\n                </Box>\n                <Box sx={{ display: 'flex', alignItems: 'flex-start', mb: 1 }}>\n                  <Chip label=\"2\" color=\"primary\" size=\"small\" sx={{ mr: 1 }} />\n                  <Typography variant=\"body2\">\n                    Mention manufacturing location and processes if known\n                  </Typography>\n                </Box>\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <Box sx={{ display: 'flex', alignItems: 'flex-start', mb: 1 }}>\n                  <Chip label=\"3\" color=\"primary\" size=\"small\" sx={{ mr: 1 }} />\n                  <Typography variant=\"body2\">\n                    Describe packaging materials and product lifespan\n                  </Typography>\n                </Box>\n                <Box sx={{ display: 'flex', alignItems: 'flex-start' }}>\n                  <Chip label=\"4\" color=\"primary\" size=\"small\" sx={{ mr: 1 }} />\n                  <Typography variant=\"body2\">\n                    Note any eco-certifications or sustainability claims\n                  </Typography>\n                </Box>\n              </Grid>\n            </Grid>\n          </Paper>\n        )}\n      </Container>\n    </Box>\n  );\n}\n\nexport default AnalysisPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}